一、TCP和UDP的区别
0 基本概念
    TCP Transmission  control protocol 传输控制协议
    UDP user datagram protocol  用户数据报文协议
    数据传输过程中, ，每个协议层都会给数据添加首部, 首部包括诸如目标地址、协议名称等信息, 而数据解析的过程就是层层剥离首部的过程；
    数据在TCP协议中称为 流STREAM 数据分组称为SEGMENT，在IP层称为 DATAGRAM， 在UDP中称为MESSAGE
    TCP表头包括源端口、目标端口、序列号、确认号、SYN标志位、ACK标志位、FIN标志位、窗口大小、校验和等元素

1 特点区别
    TCP是面向连接的、基于字节流的一种可靠的传输层协议，，HTTP, FTP, SMTP等应用层协议都基于TCP
    UDP是面向报文的传输协议， DNS, P2P等应用层协议都基于UDP

2 具体区别
    [1] 面向连接、基于字节流与面向报文
        TCP在传输前需和对方建立稳定连接，传输结束后需要断开连接；
        TCP协议会将应用层传递的数据流分割适当长度的报文段进行传输；
        UDP传输不建立连接，将应用层传递的数据添加首部后就交给IP协议；


    [2] 传输可靠性
        TCP协议中每个字节都有编号且依次递增, 每个TCP报文头部中都有一对 序号和确认号，
    序号是报文数据的首字节编号，确认号用来表示已接收到数据的字节位置并请求下一个数据段，等于序号+字节长度。使用序号进行排序和
    查重保证了传输的可靠性。    

3 TCP的三次连接 和 四次断开
    [1] 连接
        第一步：客户端向主机发送SYN包，其中TCP首部的SYN标志位置1，序号为一个随机32位数x，
        第二步：主机收到SYN包后，向客户端发送ACK包，其中TCP首部的SYN标志位置1、ACK标志位置1，序号为一个随机32位数y，
                确认号为x+1
        第三步：客户端发送一个ACK包，其中ACK flag 置1，序号为x+1，确认号为y+1

        为什么非得3步呢？仅靠前两步，当网络过慢SYN滞留时间很长，客户端以为丢包就多次发送SYN并最终成功完成传输，但滞留的SYN包
        仍可能最终到达主机，使得主机再次发送ACK包并等待客户端的数据，导致资源的浪费

    [2] 传输数据
        接下来的TCP报文中才开始包含有效数据，接下来的任务就是客户端发送报文，主机回复确认报文的过程，但主机并没有必要对每一个包
        都进行回复，只用回复连续报文的最后一条。

    [3] 断开连接
        第一步：当客户端发送FIN包，其中TCP首部的FIN标志位置1；
        第二步：主机回复ACK包进行确认，其中ACK置1，确认号等于FIN序号加1；
        第三步：主机等待所有报文发送完毕后，发送FIN包；
        第四步：客户端发送ACK包进行确认，其中ACK置1，确认号等于FIN序号加1；

        第四步完成后主机立即关闭，而客户端要等待2MSL(报文最大生存时间)的时间，目的有两个，一是避免主机没收到ACK而重发第三步的FIN包，如果客户端直接
        关闭主机可能永远处于不断重发FIN并等待ACK的状态；二是直接关闭后可能有新的连接请求使用当前端口，因此等待2MSL以确保本次连接
        的所有报文都失效，避免被延迟的数据被新的连接处理。
